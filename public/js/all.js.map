{"version":3,"sources":["alert-popup.js","footer.js","form-validations.js","login-popup.js","select2.js","tables.js","tournament.schedule.open.js","page-return.js","score-edition.js","shiftMatch.js","import.js","close.pool.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrQA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["$( document ).ready(function() {\n\t// Create custom delete alert when we click on a .button-delete\n\t// @author Dessaules Loïc\n\t// @modified by Dessauges Antoine\n\t$('.button-delete').click(function(){\n\n\t\tevent.preventDefault(); // cancel the event click, needed to delte participant in team. Without the form is sumbit on icon click\n\n\t\tvar type = $(this).data(\"type\");\n\t\tvar name = $(this).data(\"name\");\n\t\tvar title = '';\n\t\tvar text = '';\n\t\tvar form = $(this).parent();\n\n\t\tswitch(type) {\n\t\t    case \"sport\":\n\t\t    \ttitle = \"Voulez-vous vraiment supprimer le sport \\\"\"+name+\"\\\"?\";\n\t\t        text = \"La suppression de ce sport va entrainer la suppression des courts liés\";\n\t\t        break;\n\t        case \"court\":\n\t        \ttitle = \"Voulez-vous vraiment supprimer le terrain \\\"\"+name+\"\\\"?\";\n\t\t        break;\n\t\t    case \"tournament\":\n\t\t    \ttitle = \"Voulez-vous vraiment supprimer le tournois \\\"\"+name+\"\\\" ?\";\n\t\t        break;\n\t      \tcase \"teamMember\":\n\t\t    \ttitle = \"Voulez-vous vraiment supprimer \\\"\"+name+\"\\\" de cette équipe ?\";\n\t\t        break;\n\t\t    case \"memberTeam\":\n\t\t    \ttitle = \"Voulez-vous vraiment retirer \"+name+\" ?\";\n\t\t        break;\n\t\t}\n\t\t\n\t\talertConfirm(form, title, text);\n\n\t\t});\n\n\n\t\t// Open confirm pop-up when select change\n\t  \t// @author Dessauges Antoine\n\t  \t$( \".addMember\" ).change(function() {\n\n\t\t\tvar name = $(this).find(\"option:selected\").text();\n\t\t\tvar form = $(this).parent();\n\t\t\tif($(this).attr(\"name\") == \"team\")\n\t\t\t\tvar title = \"Voulez-vous ajouter ce participant à l'équipe \\\"\"+name+\"\\\" ?\";\n\t\t\telse\n\t  \t\t\tvar title = \"Voulez-vous ajouter \\\"\"+name+\"\\\" à l'équipe ?\";\n\n\t\t  \talertConfirm(form, title, '');\n\n\t\t});\n\n\n\t\t// Display the popup\n\t\tfunction alertConfirm(form, title, text){\n\t\t\tswal({\n\t\t  \ttitle: title,\n\t\t  \ttext: text,\n\t\t  \ttype: \"warning\",\n\t\t  \tshowCancelButton: true,\n\t\t  \tcancelButtonText: \"Annuler\",\n\t  \t\tconfirmButtonColor: \"#DD6B55\",\n\t\t  \tconfirmButtonText: \"Confirmer\",\n\t\t  \tcloseOnConfirm: false\n\t\t},\n\t\tfunction(isConfirm){\n\t\t\tif(isConfirm){\n\t\t\t\t$(form).submit();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif ($(\".addMember\")[0]) //if class exit on this page\n\t\t\t\t\t$('.addMember').find(\"option\")[0].selected = true;//display defaut select\n\t\t\t}\n\n\t\t});\n\t}\n\n});\n","$( document ).ready(function() {\n\t// Shows dev on footer\n\t$('.show-devs').click(function() {\n\t\tif ($('.dev-names').hasClass('hide')) {\n\t\t\t$('.dev-names').removeClass('hide').addClass('show');\n\t\t}\n\t\telse {\n\t\t\t$('.dev-names').removeClass('show').addClass('hide');\n\t\t}\n\t});\n});","$( document ).ready(function() {\n\t/* FORM VALIDATIONS */\n\t// @author Dessaules Loïc\n\t$('.formSend').click(function(){\n\t\tvar form = $(this).parent().parent();\n\t\tvar formId = form.attr('id');\n\t\tvar error = '';\n\n\t\tswitch(formId) {\n\t\t    case \"formSport\":\n\t\t    \tvar nameValue = $('#formSport #name').val();\n\t\t    \tvar descriptionValue = $('#formSport #description').val();\n\n\t\t    \tvar patternName = /^[a-zA-Z0-9-_ ]{3,20}$/;\n\t\t    \tvar patternDecription = /^[a-zA-Z0-9-_ ]{0,45}$/;\n\n\t\t    \tif(!patternName.test(nameValue)){\n\t\t    \t\terror += 'Le champ Nom ne doit pas être vide et doit avoir entre 3 et 45 caractères.<br>';\n\t\t    \t}\n\t\t    \tif(!patternDecription.test(descriptionValue)){\n\t\t    \t\terror += 'Le champ Description peut avoir maximum 45 caractères.<br>';\n\t\t    \t}\n\t\t        break;\n\n\t        case \"formCourt\":\n\t        \tvar nameValue = $('#formCourt #name').val();\n\t        \tvar acronymValue = $('#formCourt #acronym').val();\n\t\t    \tvar sportValue = $('#formCourt #sport').val(); // '' = empty, 1-2-3-... = sport\n\n\t\t    \tvar patternName = /^[a-zA-Z0-9-_ ]{1,20}$/;\n\t\t    \tvar patternAcronym = /^[a-zA-Z0-9-_ ]{1,3}$/;\n\t\t    \tvar patternSport = /^[0-9]+$/;\n\n\t\t    \tif(!patternName.test(nameValue)){\n\t\t    \t\terror += 'Le champ Nom ne doit pas être vide et doit avoir entre 1 et 20 caractères.<br>';\n\t\t    \t}\n\t\t    \tif(!patternAcronym.test(acronymValue)){\n\t\t    \t\terror += 'Le champ Acronyme ne doit pas être vide et doit avoir entre 1 et 3 caractères.<br>';\n\t\t    \t}\n\t\t    \tif(!patternSport.test(sportValue)){\n\t\t    \t\terror += 'Aucun sport sélectionné.<br>';\n\t\t    \t}\n\t\t        break;\n\n\t\t    case \"formEvent\":\n\t        \tvar nameValue = $('#formEvent #name').val();\n\t        \tvar imgValue = $('#formEvent #img').val();\n\n\t\t    \tvar patternName = /^[a-zA-Z0-9-_ ]{3,20}$/;\n\n\t\t    \tif(!patternName.test(nameValue)){\n\t\t    \t\terror += 'Le champ Nom ne doit pas être vide et doit avoir entre 3 et 20 caractères.<br>';\n\t\t    \t}\n\t\t    \t//if image is not empty but only if this is on the create event (edit event image can be null and conserve the oldest image)\n\t\t    \tif(imgValue == '' && $('#formEvent').is('.add')){\n\t\t    \t\terror += 'Le champ Image ne doit pas être vide.<br>';\n\t\t    \t}\n\n\t\t        break;\n\n\t\t    case \"formTournament\":\n\t\t    \tvar nameValue = $('#formTournament #name').val();\n\t\t    \tvar sportValue = $('#formTournament #sport').val();\n\t\t    \tvar startDateValue = $('#formTournament #startDate').val();\n\t\t    \tvar startTimeValue = $('#formTournament #startTime').val();\n\t\t    \tvar imgValue = $('#formTournament #img').val();\n\n\t\t    \tvar patternName = /^[a-zA-Z0-9-_ ]{3,45}$/;\n\t\t    \tvar patternSport = /^[0-9]+$/; // '' = empty, 1-2-3-... = sport\n\t\t    \tvar patternDate = /^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/;\n\t\t    \tvar patternTime = /^([01]\\d|2[0-3]):([0-5]\\d)$/;\n\n\t\t    \tif(!patternName.test(nameValue)){\n\t\t    \t\terror += 'Le champ Nom ne doit pas être vide et doit avoir entre 3 et 45 caractères.<br>';\n\t\t    \t}\n\t\t    \tif(!patternSport.test(sportValue)){\n\t\t    \t\terror += 'Aucun sport sélectionné.<br>';\n\t\t    \t}\n\t\t    \tif(!patternTime.test(startTimeValue)){\n\t\t    \t\terror += 'Le champ Heure de début ne doit pas être vide et doit être sous la forme hh:mm.<br>';\n\t\t    \t}\n\t\t    \tif(!patternDate.test(startDateValue)){\n\t\t    \t\terror += 'Le champ Date de début ne doit pas être vide et doit être sous la forme jj.mm.aaaa.<br>';\n\t\t    \t}\n\t\t    \t//if image is not empty but only if this is on the create event (edit event image can be null and conserve the oldest image)\n\t\t    \tif(imgValue == '' && $('#formTournament').is('.add')){\n\t\t    \t\terror += 'Le champ Image ne doit pas être vide.<br>';\n\t\t    \t}\n\t\t    \tbreak;\n\t\t}\n\n\t\tif(error == ''){\n\t\t\tform.submit();\n\t\t}else{\n\t\t\t$('.alert').remove();\n\t\t\t$('.alert-danger').remove();\n\t\t\t$('h1').after(\n\t\t\t\t'<div class=\"alert alert-danger\">'\n\t\t\t\t+error\n\t\t\t\t+'</div>'\n\t\t\t);\n\t\t}\n\n\t});\n});","$( document ).ready(function() {\n    // Login popup\n    $(\"#login_link\").click(function() {\n    \t$('#login_popup').modal();\n    \t$(\"#login_popup .modal-body .error\").remove();\n    });\n    // Set focus when the popup loaded\n    $('#login_popup').on('shown.bs.modal', function(){\n    \t$(\"#username\").focus();\n    })\n\n\n    $(\"#login_popup .btn-login-form\").click(function(event){\n    \tevent.preventDefault();\n    \tvar username = $(\"#login-form #username\").val();\n    \tvar password = $(\"#login-form #password\").val();\n    \tvar token = $(\"#login-form input[name=_token]\").val();\n    \t\n    \t// Ajaj Posting data\n      \t$.ajax({\n            url         : '/admin',\n            method      : 'POST',\n            dataType    : 'html',\n            headers\t\t: {'X-CSRF-TOKEN': token},\n            data        : {\n                username: username,\n                password: password,\n            },\n            success : function(data) {\n                var res = data.split(\"::\");\n                if(res[0] == \"accepted\"){\n                \twindow.location.href = res[1];\n                }else{\n                \tvar error = res[1];\n                \t$(\"#login_popup .modal-body .error\").remove();\n                \t$(\"#login_popup .modal-body\").append('<div class=\"error\">'+error+'</div>');\n            \t \t$(\"#login-form #password\").val(\"\");\n                }\n            }\n        });\n    });\n});","$( document ).ready(function() {\n\t/* Add multiple select chooser for the teams which participate on a tournament */\n\t// do this if we are on the good page (id of the select exists)\n\tif($('#multiple-teams-select').length){\n\t\t$(\"#multiple-teams-select\").select2({\n\t\t\tplaceholder: 'Choisir une équipe',\n\t  \t\tallowClear: true\n\t  \t});\n\t}\n});","$( document ).ready(function() {\n\n\t// Search in a table and display only result who correspond to the search\n  \t// @author Dessauges Antoine\n  \t$('.search').on('input',function(e){\n\n    \tvar search = $('.search').val().toLowerCase();\n\n    \t$('.searchIn tr, .searchIn .hideSearch').each( function() {\n\n    \t\tvar teamName = $(this).find(\".name\").text().toLowerCase();\n\n    \t\tif(teamName.indexOf(search) < 0)\n    \t\t\t$(this).hide( \"fast\");\n    \t\telse\n    \t\t\t$(this).show( \"fast\");\n\n    \t});\n\n    });\n\n\n\t// Init Datatable on our table -> https://datatables.net/\n    // @author Dessaules Loïc\n\tvar tableFrTranslateWithoutAllInfos = {\n\t\t\"language\": {\n\t        \"decimal\":        \"\",\n\t\t    \"emptyTable\":     \"Aucune données disponible\",\n\t\t    \"info\":           \"_START_ à _END_ sur _TOTAL_ entrées\",\n\t\t    \"infoEmpty\":      \"0 à 0 sur 0 entrées\",\n\t\t    \"infoFiltered\":   \"(Total de _MAX_ total entrées)\",\n\t\t    \"infoPostFix\":    \"\",\n\t\t    \"thousands\":      \",\",\n\t\t    \"lengthMenu\":     \"Voir _MENU_ entrée\",\n\t\t    \"loadingRecords\": \"Chargement...\",\n\t\t    \"processing\":     \"En traitement...\",\n\t\t   \t\"search\":         \"\",\n\t\t    \"searchPlaceholder\": \"Recherche\",\n\t\t    \"zeroRecords\":    \"Aucune données trouvées\",\n\t\t    \"paginate\": {\n\t\t        \"first\":      \"Première\",\n\t\t        \"last\":       \"Dernière\",\n\t\t        \"next\":       \"Suivant\",\n\t\t        \"previous\":   \"Précédent\"\n\t\t    }\n\t    },\n\t    \"paging\":   false,\n        \"info\":     false,\n        \"searching\":\tfalse,\n\t};\n\n\tvar tableFrTranslateWithoutEntries = {\n\t\t\"language\": {\n\t        \"decimal\":        \"\",\n\t\t    \"emptyTable\":     \"Aucune données disponible\",\n\t\t    \"info\":           \"_START_ à _END_ sur _TOTAL_ entrées\",\n\t\t    \"infoEmpty\":      \"0 à 0 sur 0 entrées\",\n\t\t    \"infoFiltered\":   \"(Total de _MAX_ total entrées)\",\n\t\t    \"infoPostFix\":    \"\",\n\t\t    \"thousands\":      \",\",\n\t\t    \"lengthMenu\":     \"Voir _MENU_ entrée\",\n\t\t    \"loadingRecords\": \"Chargement...\",\n\t\t    \"processing\":     \"En traitement...\",\n\t\t    \"search\":         \"\",\n\t\t    \"searchPlaceholder\": \"Recherche\",\n\t\t    \"zeroRecords\":    \"Aucune données trouvées\",\n\t\t    \"paginate\": {\n\t\t        \"first\":      \"Première\",\n\t\t        \"last\":       \"Dernière\",\n\t\t        \"next\":       \"Suivant\",\n\t\t        \"previous\":   \"Précédent\"\n\t\t    }\n\t    },\n        \"bLengthChange\":     false,\n\t};\n\n\t// Specific table without the top-left élément (nb x - y entries)\n\t$('#tournament-teams-table').DataTable(tableFrTranslateWithoutEntries);\n\t$('#teams-table').DataTable(tableFrTranslateWithoutEntries);\n\t$('#participants-table').DataTable(tableFrTranslateWithoutEntries);\n\t// All tables without all data, just the table\n\t$('.translate').DataTable(tableFrTranslateWithoutAllInfos);\n\n\t// datatables add a container fluid, I don't want that, so I delete the class\n\t$('.dataTables_wrapper').removeClass('container-fluid');\n\n\t// Redirect when click on a cell\n\t$('#pools-table').on('click', 'td.clickable', function(){\n\t\tvar tournament_id = $(\"#pools-table\").data(\"tournament\");\n\t\tvar pool_id = $(this).data(\"id\");\n\t\twindow.location.href = tournament_id+\"/pools/\"+pool_id;\n\t});\n\n\t$('#teams-table').on('click', 'td.clickable', function(){\n\t\tvar team_id = $(this).data(\"id\");\n\t\twindow.location.href = \"teams/\"+team_id;\n\t});\n\n\t$('#teams-show-table').on('click', 'td.clickable', function(){\n\t\tvar participant_id = $(this).data(\"id\");\n\t\twindow.location.href = \"/admin/participants/\"+participant_id;\n\t});\n\n\t$('#participants-table').on('click', 'td.clickable', function(){\n\t\tvar participant_id = $(this).data(\"id\");\n\t\twindow.location.href = \"participants/\"+participant_id;\n\t});\n\n\t$('#participants-show-table').on('click', 'td.clickable', function(){\n\t\tvar team_id = $(this).data(\"id\");\n\t\twindow.location.href = \"/admin/teams/\"+team_id;\n\t});\n\n\t$('#tournament-teams-table').on('click', 'td.clickable', function(){\n\t\tvar team_id = $(this).data(\"id\");\n\t\twindow.location.href = \"/admin/teams/\"+team_id;\n\t});\n});\n","$(document).ready(function() {\n    $('.big-screen').click(function(e) {\n        e.preventDefault();\n\n        console.log($(this).attr(\"href\"));\n\n        window.open($(this).attr(\"href\"), \"_blank\", \"height=\" + screen.height +\",width=\" + screen.width + \"\");\n    });\n});\n","$(document).ready(function() {\n    $('.return').each(function() {\n        $(this).click(function(event) {\n            event.preventDefault();\n            history.back();\n        });\n    })\n});\n","$( document ).ready(function() {\n\t$(\"table#matches td.action i.editScore\").click(function() {\n\t\tunlockScore($(this));\n\t});\n\n\tfunction unlockScore(pencil){\n\n\t\tpencil.parent().children('.editTime').hide();\n\n\t\tvar tdAction = pencil.parent();\n\t\tvar tdScore1 = tdAction.parent().children(\"td.score1\");\n\t\tvar tdScore2 = tdAction.parent().children(\"td.score2\");\n\t\t// Get scores of each team\n\t\tvar score1 = tdScore1.text();\n\t\tvar score2 = tdScore2.text();\n\t\t// Clear the TDs\n\t\ttdScore1.empty();\n\t\ttdScore2.empty();\n\t\t// Create form inputs\n\t\tvar inputScore1 = document.createElement(\"input\");\n\t\tinputScore1.setAttribute('type',\"number\");\n\t\tinputScore1.setAttribute('min',\"0\");\n\t\tinputScore1.setAttribute('value',score1);\n\t\tvar inputScore2 = document.createElement(\"input\");\n\t\tinputScore2.setAttribute('type',\"number\");\n\t\tinputScore2.setAttribute('min',\"0\");\n\t\tinputScore2.setAttribute('value',score2);\n\t\t// Append\n\t\ttdScore1.append(inputScore1);\n\t\ttdScore2.append(inputScore2);\n\t\t// Create and delete icons\n\t\tvar checkSquare = document.createElement(\"i\");\n\t\tcheckSquare.className += \"fa fa-lg fa-check-square-o\";\n\t\tcheckSquare.setAttribute('aria-hidden',\"true\");\n\t\tvar cross = document.createElement(\"i\");\n\t\tcross.className += \"fa fa-lg fa-times\";\n\t\tcross.setAttribute('aria-hidden',\"true\");\n\t\tpencil.after(checkSquare);\n\t\tcheckSquare.after(cross);\n\n\t\tpencil.remove();\n\n\t\t// Discard all things\n\t\t$(cross).click(function(){\n\n\t\t\t//display edit score btn\n\t\t\t$(this).parent().children('.editTime').show();\n\n\t\t\t// Remove square and cross icons and recreate pencil icon\n\t\t\ttdAction.append(pencil);\n\t\t\tcheckSquare.remove();\t\n\t\t\tcross.remove();\n\n\t\t\t// Remove inputs\n\t\t\tinputScore1.remove();\n\t\t\tinputScore2.remove();\n\t\t\t// Place old score on the TDs\n\t\t\ttdScore1.append(score1);\n\t\t\ttdScore2.append(score2);\n\n\t\t\t// Add listener to new pencil recreate\n\t\t\tpencil.click(function(){\n\t\t\t\tunlockScore($(this));\n\t\t\t});\n\n\t\t});\n\n\t\t$(checkSquare).click(function(){\n\t\t\t// Success\n\t\t\tif(valid($(inputScore1).val(), $(inputScore2).val())){\n\t\t\t\tajaxCall(tdAction);\n\t\t\t}\n\t\t\t// Error\n\t\t\telse{\n\t\t\t\tdisplayAlert(\"danger\", \"Format de score invalide\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\tfunction displayAlert(type, message){\t\n\t\t$(\".alert\").remove();\n\n\t\tswitch(type) {\n\n\t    \tcase \"danger\":\n\n\t\t\t\tvar errorAlert = $(\"<div class='alert alert-danger' role='alert'>\"+message+\"</div>\");\n\t\t\t\t$(\"#match-block\").prepend(errorAlert);\n\t\t\t\t// After 2sec, the alert will disappear\n\t\t\t\tdisappear(errorAlert);\n\t\t        break;\n\n\t\t    case \"success\":\n\n\t\t\t\tvar success = $(\"<div class='alert alert-success' role='alert'>\"+message+\"</div>\");\n\t\t\t\t$(\"#match-block\").prepend(success);\n\t\t\t\t// After 2sec, the alert will disappear\n\t\t\t\tdisappear(success);\n\t\t        break;\n\t\t}\n\t}\n\n\tfunction valid(score1, score2){\n\t\tvar patternNumeric = /^[0-9]{1,3}$/;\n\t\tif(!patternNumeric.test(score1) || !patternNumeric.test(score2)){\n    \t\treturn false; \n    \t}else{\n    \t\treturn true;\n    \t}\n\t}\n\n\tfunction disappear(alert){\n\t\talert.fadeTo(3000, 500).slideUp(500, function(){\n\t\t    alert.slideUp(500);\n\t\t});\n\t}\n\n\tfunction ajaxCall(tdAction){\n\n\t\tvar tournamentId = $(\"table#matches\").data(\"tournament\");\n\t\tvar poolId = $(\"table#matches\").data(\"pool\");\n\t\tvar gameId = tdAction.parent().data(\"game\");\n\n\t\t// Create the loader\n\t\tvar opac = document.createElement(\"div\");\n\t\topac.id += \"opac\";\n\t\tvar imgLoader = document.createElement('img');\n\t\timgLoader.className += \"loader\";\n\t\timgLoader.src = '/images/loader.gif';\n\t\topac.prepend(imgLoader);\n\t\tdocument.body.prepend(opac);\n\n\t\t$.ajax({\n            url         : '/admin/tournaments/'+tournamentId+'/pools/'+poolId+'/games/'+gameId+'',\n            method      : 'PUT',\n            dataType    : 'json',\n            context     : this,\n            cache       : false,\n            headers     : {            \n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')        \n            },\n            data        : {\n        \t\tscore1 : tdAction.parent().children(\"td.score1\").children(\"input\").val(),\n        \t\tscore2 : tdAction.parent().children(\"td.score2\").children(\"input\").val()\n            },\n            error : function(xhr, options, ajaxError) {\n            \tif(xhr.status != 200){\n            \t\tdisplayAlert(\"danger\", \"Une erreur est survenue ...\");\n            \t}\n            \t// Remove loader\n\t\t\t\topac.remove();\n            },\n            success : function(data) {\n            \t// Create new pencil icon\n            \tvar pencil = document.createElement(\"i\");\n\t\t\t\tpencil.className += \"fa fa-lg fa-trophy\";\n\t\t\t\tpencil.setAttribute('aria-hidden',\"true\");\n\n\t\t\t\t// Create variable i will use\n\t\t\t\tvar tdScore1 = tdAction.parent().children(\"td.score1\");\n\t\t\t\tvar tdScore2 = tdAction.parent().children(\"td.score2\");\n\t\t\t\tvar pencil = $(pencil);\n                var checkSquare = tdAction.children(\"i.fa-check-square-o\");\n                var cross = tdAction.children(\"i.fa-times\");\n\n                // Remove time and display \"-\"\n                checkSquare.parent().parent().children(\".separator\").text(\"-\");\n                checkSquare.parent().parent().children(\".separator\").removeClass(\"sepTime\");\n\n\t\t\t\t// Remove square and cross icons and add pencil icon\n\t\t\t\tcheckSquare.parent().children(\".editTime\").remove(); //delete pencil edit time\n\t\t\t\ttdAction.append(pencil);\n\t\t\t\tcheckSquare.remove();\n\t\t\t\tcross.remove();\n\n\t\t\t\t// Place new score on the TDs\n\t\t\t\ttdScore1.append(tdScore1.children(\"input\").val());\n\t\t\t\ttdScore2.append(tdScore2.children(\"input\").val());\n\n\t\t\t\t// Remove inputs\n\t\t\t\ttdScore1.children(\"input\").remove();\n\t\t\t\ttdScore2.children(\"input\").remove();\n\n\t\t\t\t// Add listener to new pencil recreate\n\t\t\t\tpencil.click(function(){\n\t\t\t\t\tunlockScore($(this));\n\t\t\t\t});\n\n\t\t\t\t\n\n\t\t\t\t// Update the rankings table\n\t\t\t\tupdateRankingstable(data);\n\n\t\t\t\t// Display success message\n\t\t\t\tdisplayAlert(\"success\", \"Changement effectué et classement mis à jour\")\n\n\t\t\t\t// Remove loader\n\t\t\t\topac.remove();\n\n            }\n        });\n\t}\n\n\tfunction updateRankingstable(rankings){\n\t\t// Clear the Tbdy and rebuilt it\n\t\tvar tBody = $(\"#pool-rankings-table tbody\");\n\t\ttBody.empty();\n\t\tfor (var i = 0; i < rankings.length; i++) {\n\t\t\ttr = document.createElement(\"tr\");\n\t\t\tallTds = '<td>'+(i+1)+'</td><td>'+rankings[i][\"team\"]+'</td><td>'+rankings[i][\"score\"]+'</td><td>'+rankings[i][\"W\"]+'</td><td>'+rankings[i][\"L\"]+'</td><td>'+rankings[i][\"D\"]+'</td><td>'+rankings[i][\"+-\"]+'</td>';\n\t\t\ttr.innerHTML = allTds;\n\t\t\ttBody.append(tr);\n\t\t}\n\t\t\n\t}\n\n\n});","$( document ).ready(function() {\n\n\t$(\"#shiftMatch\").click(function() {\n\t\t// Create the loader\n\t\tvar opac = document.createElement(\"div\");\n\t\topac.id += \"opac\";\n\t\tvar imgLoader = document.createElement('img');\n\t\timgLoader.className += \"loader\";\n\t\timgLoader.src = '/images/loader.gif';\n\t\topac.prepend(imgLoader);\n\t\tdocument.body.prepend(opac);\n\n\t\tevent.preventDefault(); // cancel the event\n\t\tshiftMatch($(this));\n\t});\n\n\tfunction shiftMatch(self){\n\n\t\tvar shiftTime = $('#shiftTime').val();\n\n\t\t//if empty or not numeric\n\t\tif(!(shiftTime % 1 === 0 && shiftTime != '')){\n\t\t\tdisplayAlert(\"danger\", \"Le décalage doit être un numéro entier qui correspond à un temps en minute...\");\n\t\t\treturn;\n\t\t}\n\n\t\tvar matches = $('#matches tr .sepTime');\n\t\tvar tournamentId = $(\"table#matches\").data(\"tournament\");\n\t\tvar poolId = $(\"table#matches\").data(\"pool\");\n\n\t\tmatches.each(function()\n\t\t{\n\t\t\tvar gameId = $(this).parent().data(\"game\");\n\n\t\t    var oldTime = $(this).text();\n\n\t\t\tvar tempTime = oldTime.split(':');\n\t\t\tvar timeInSecond = tempTime[0] * 60 * 60 + tempTime[1] * 60 ; \n\n\t\t\t//add time\n\t\t\ttimeInSecond += (shiftTime * 60)\n\t\t\n\t\t\t//convert second in string HH:MM:SS\n\t\t\tvar newDate = new Date(null);\n\t\t\tnewDate.setTime( newDate.getTime() + newDate.getTimezoneOffset()*60*1000 ); // make timezone correcte\n\t\t\tnewDate.setSeconds(timeInSecond); \n\t\t\tvar result = newDate.toISOString().substr(11, 8);\n\n\t\t\t// create var for the dom display and for the DB , the 0 add in start and the slice fix the number for having 14:05:00 instead of 14:5:0\n\t\t\tvar timeDOM = ('0'+newDate.getHours()).slice(-2)+\":\"+('0'+newDate.getMinutes()).slice(-2);\n\t\t\tvar timeDB = ('0'+newDate.getHours()).slice(-2)+\":\"+('0'+newDate.getMinutes()).slice(-2)+\":\"+('0'+newDate.getSeconds()).slice(-2);\n\n\t\t\t$.ajax({\n\t            url         : '/admin/tournaments/'+tournamentId+'/pools/'+poolId+'/games/'+gameId,\n\t            method      : 'PUT',\n\t            context     : this,\n\t            cache       : false,\n\t            headers     : {            \n\t                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')        \n\t            },\n\t            data        : {\n\t        \t\tnewTime : timeDB\n\t            },\n\t            error : function(xhr, options, ajaxError) {\n\t            \tif(xhr.status != 200){\n\t            \t\tdisplayAlert(\"danger\", \"Une erreur est survenue ...\");\n\t            \t\t// Remove loader\n                        opac.remove();\n\t            \t}\n\t            },\n\t            success : function(data) {\n\t            \t$(this).text(timeDOM);\n\n\t            \t// limit number of alerts to one. This is done because multiple request are made.\n                    if (!$('.alert.alert-success').length) {\n                        displayAlert(\"success\", \"Le décalage des heures a bien été effectué\");\n                    }\n\n                    if($('#opac').length){\n\t                    // Remove loader\n\t                    opac.remove();\n                \t}\n\t            }\n\t        });\n\n\t\t});\n\n\t\n\n\t} //shiftMatch\n\n\tfunction displayAlert(type, message){\t\n\t\t$(\".alert\").remove();\n\n\t\tswitch(type) {\n\n\t    \tcase \"danger\":\n\n\t\t\t\tvar errorAlert = $(\"<div class='alert alert-danger' role='alert'>\"+message+\"</div>\");\n\t\t\t\t$(\"#match-block\").prepend(errorAlert);\n\t\t\t\t// After 2sec, the alert will disappear\n\t\t\t\tdisappear(errorAlert);\n\t\t        break;\n\n\t\t    case \"success\":\n\n\t\t\t\tvar success = $(\"<div class='alert alert-success' role='alert'>\"+message+\"</div>\");\n\t\t\t\t$(\"#match-block\").prepend(success);\n\t\t\t\t// After 2sec, the alert will disappear\n\t\t\t\tdisappear(success);\n\t\t        break;\n\t\t}\n\t}\n\n\tfunction disappear(alert){\n\t\talert.fadeTo(3000, 500).slideUp(500, function(){\n\t\t    alert.slideUp(500);\n\t\t});\n\t}\n\n\t//EDIT TIME\n\t\n\t$(\"table#matches td.action i.editTime\").click(function() {\n\t\tunlockTime($(this));\n\t});\n\n\tfunction unlockTime(pencil){\n\n\t\tpencil.parent().children('.editScore').hide();\n\n\t\tvar tdAction = pencil.parent();\n\t\tvar tdTime = tdAction.parent().children(\"td.separator\");\n\t\tvar hour = (tdTime.text()).split(\":\")[0]; \n\t\tvar minute = tdTime.text().split(\":\")[1];\n\n\t\tvar form = '<input type=\"text\" id=\"formHourTime\" value=\"'+hour+'\">:<input type=\"text\" id=\"formMinuteTime\" value=\"'+minute+'\">';\n\n\t\ttdTime.text(\"\");\n\t\ttdTime.append(form); \n\n\t\t// Create and delete icons\n\t\tvar checkSquare = document.createElement(\"i\");\n\t\tcheckSquare.className += \"fa fa-lg fa-check-square-o\";\n\t\tcheckSquare.setAttribute('aria-hidden',\"true\");\n\t\tvar cross = document.createElement(\"i\");\n\t\tcross.className += \"fa fa-lg fa-times\";\n\t\tcross.setAttribute('aria-hidden',\"true\");\n\t\tpencil.after(checkSquare);\n\t\tcheckSquare.after(cross);\n\n\t\tpencil.remove();\n\t\t// Discard all things\n\t\t$(cross).click(function(){\n\n\n\t\t\t//display edit score btn\n\t\t\t$(this).parent().children('.editScore').show();\n\n\t\t\ttdTime.text(hour+\":\"+minute);\n\n\t\t\t// Remove square and cross icons and recreate pencil icon\n\t\t\ttdAction.prepend(pencil);\n\t\t\tcheckSquare.remove();\n\t\t\tcross.remove();\n\n\t\t\t// Add listener to new pencil recreate\n\t\t\tpencil.click(function(){\n\t\t\t\tunlockTime($(this));\n\t\t\t});\n\t\t});\n\n\t\t$(checkSquare).click(function(){\n\n\t\t\t// Create the loader\n\t        var opac = document.createElement(\"div\");\n\t        opac.id += \"opac\";\n\t        var imgLoader = document.createElement('img');\n\t        imgLoader.className += \"loader\";\n\t        imgLoader.src = '/images/loader.gif';\n\t        opac.prepend(imgLoader);\n\t        document.body.prepend(opac);\n\n\t\t\tvar newMinute = $(\"#formMinuteTime\").val();\n\t\t\tvar newHour = $(\"#formHourTime\").val();\n\t\t\t\n\t\t\t// if not between 0 and 59, not numeric or empty\n\t\t\tif( newMinute >= 60 || newMinute < 0 || newMinute % 1 !== 0 || newMinute == ''){\n\t\t\t\tdisplayAlert(\"danger\", \"Format de temps invalide\"); \n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if not between 0 and 59, not numeric or empty\n\t\t\tif( newHour >= 24 || newHour < 0 || newHour % 1 !== 0 || newHour == ''){\n\t\t\t\tdisplayAlert(\"danger\", \"Format de temps invalide\"); \n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t\t\n\n\t\t\tvar tournamentId = $(\"table#matches\").data(\"tournament\");\n\t\t\tvar poolId = $(\"table#matches\").data(\"pool\");\n\t\t\tvar gameId = $(this).parent().parent().data(\"game\");\n\t\t\tvar timeDB = newHour+\":\"+newMinute+\":00\";\n\n\t\t\t$.ajax({\n\t            url         : '/admin/tournaments/'+tournamentId+'/pools/'+poolId+'/games/'+gameId,\n\t            method      : 'PUT',\n\t            context     : this,\n\t            cache       : false,\n\t            headers     : {            \n\t                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')        \n\t            },\n\t            data        : {\n\t        \t\tnewTime : timeDB\n\t            },\n\t            error : function(xhr, options, ajaxError) {\n\t            \tif(xhr.status != 200){\n\t            \t\tdisplayAlert(\"danger\", \"Une erreur est survenue ...\");\n\t            \t}\n\t            \t// Remove loader\n                    opac.remove();\n\t            },\n\t            success : function(data) {\n\t            \t  \n\t            \t//display edit score btn\n\t\t\t\t\t$(this).parent().children('.editScore').show();\n\n\t            \tif(newMinute.length == 1)\n\t            \t\tnewMinute = \"0\"+newMinute;\n\n\t            \tif(newHour.length ==1)\n\t            \t\tnewHour = \"0\"+newHour;\n\n\t            \t$(this).parent().parent().children(\".separator\").text(newHour+\":\"+newMinute);\n\n\t\t\t\t\t// Remove square and cross icons and recreate pencil icon\n\t\t\t\t\ttdAction.prepend(pencil);\n\t\t\t\t\tcheckSquare.remove();\n\t\t\t\t\tcross.remove();\n\n\t\t\t\t\t// Add listener to new pencil recreate\n\t\t\t\t\tpencil.click(function(){\n\t\t\t\t\t\tunlockTime($(this));\n\t\t\t\t\t});\n\n\t\t\t\t\tdisplayAlert(\"success\", \"Changement d'heure effectué\");\n\n\t\t\t\t\t// Remove loader\n                    opac.remove();\n\n\t            }\n\t        });\n\n\t\t\n\t\t});\n\n\t}\n\n\n\n\n});","$(document).ready(function() {\n    $(\".import\").click(function() {\n        $(this).parent().submit();\n    });\n});\n","$(document).ready(function() {\n    $('.close-pool-btn').click(function() {\n\n        // Create the loader\n        var opac = document.createElement(\"div\");\n        opac.id += \"opac\";\n        var imgLoader = document.createElement('img');\n        imgLoader.className += \"loader\";\n        imgLoader.src = '/images/loader.gif';\n        opac.prepend(imgLoader);\n        document.body.prepend(opac);\n\n\n        var tournament_id = $(\"table#matches\").data(\"tournament\");\n        var pool_id       = $(\"table#matches\").data(\"pool\");\n\n        $(\"#pool-rankings-table tbody tr\").each(function() {\n\n            $.ajax({\n                url         : '/admin/tournaments/' + tournament_id + '/pools/' + pool_id,\n                method      : 'PUT',\n                dataType    : 'json',\n                cache       : false,\n                headers     : {\n                    'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n                },\n                data        : {\n                    team_id         : $(this).data(\"id\"),\n                    rank_in_pool    : $(this).data(\"rank\")\n                },\n                success : function(data) {\n\n                    // limit number of alerts to one. This is done because multiple request are made.\n                    if (!$('.alert.alert-success').length) {\n                        // Display success message\n                        var success = $(\"<div class='alert alert-success' role='alert'>Le pool à bien été terminé</div>\");\n                        $(\"#match-block\").prepend(success);\n                        // After 2sec, the alert will disappear\n                        success.fadeTo(3000, 500).slideUp(500, function(){\n                \t\t    success.slideUp(500);\n                \t\t});\n                        // Remove loader\n                        opac.remove();\n                    }\n\n                    $('.action i').each(function() {\n                        $(this).remove();\n                    });\n\n                    $('.close-pool-btn').remove();\n                },\n                error : function(xhr) {\n                    console.error('readyState: ' + xhr.readyState);\n                    console.error('status: ' + xhr.status);\n                    console.error('responseText: ' + xhr.responseText);\n                    // Remove loader\n                    opac.remove();\n                }\n            });\n\n        });\n\n    });\n});\n"]}